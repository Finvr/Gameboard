<div class="profile">
  <div class="row">

  	<!-- left side -->
  	<div class="col m4">
  	  <center class="profile-box">
        <!-- picture of user -->
  	    <div class="img-wrapper">
  	      <img  class="responsive-img circle profilePic" src="{{ myProfile.picture }}">
  	    </div>
        <!-- rating and liability info about user -->
    		<div class="staticProfile">Rating: {{ myProfile.reviews.rating ? myProfile.reviews.rating : "N/A"}}<span class="reviewCounts"> {{"(" + (myProfile.reviews.reviewcounts ? myProfile.reviews.reviewcounts : 0) + ")" }}</span></div>
  	    <div class="staticProfile">Reliability: {{ myProfile.reviews.reliability ? (myProfile.reviews.reliability * 100 + "%") : "N/A"}}</div>
  	  </center>
  	</div>

    <!-- Right side -->
  	<div class="col m7 offset-m1">
      <!-- user name -->
  		<h4 class="collection-item avater profile-field username">
        {{ myProfile.username }}
        <a class="fbIcon" target="_blank" href="{{myProfile.link}}"><img src="assets/facebook.png"></a>  
      </h4>  	
      <!-- editable info: location, about me, games i like -->
  		<ul class="collection profile-field"> 
  			<li class="profile-field location">
    			<span class="title"><strong>Location:</strong> </span>
    			<p><span class="read">{{ myProfile.location ? myProfile.location : "N/A"}}</span> 
            <i ng-click="showInput('.location')" class="material-icons edit">mode_edit</i>
            <span class="write"><input type="text" ng-model="myProfile.location"></span> 
          </p>
    		</li>
    		<li class="profile-field about-me">
    			<span class="title"><strong>About Me:</strong> </span>
    			<p><span class="read">{{ myProfile.about_me ? myProfile.about_me : "N/A" }}</span> 
            <i ng-click="showInput('.about-me')" class="material-icons edit">mode_edit</i>
    				<span class="write"><input type="text" ng-model="myProfile.about_me" ng-model-options="{ updateOn: 'blur' }"></span> 
    			</p>
    		</li>
    		<li class="profile-field games-i-like">
    			<span class="title"><strong>Games I Like:</strong> </span>
    			<p>
            <span class="read">{{ myProfile.games_list ? myProfile.games_list : "N/A" }}</span> 
            <i ng-click="showInput('.games-i-like')" class="material-icons edit">mode_edit</i>
    				<span class="write"><input type="text" ng-model="myProfile.games_list"></span> 
    			</p>
    		</li>
    	</ul>
     	<a ng-if="update" ng-click="updateProfile(myProfile)" class="center btn" ng-show="!myProfile.viewId">Save Changes</a>
  	</div>
  </div>

  <!-- Recent Game List -->
  <div class="recent_game_list" ng-if="!myProfile.viewId">
     <ul class="collection" watch>
      <li class="collection-header collection-item"><h5>My Recent Games</h5></li>
      <li class="collection collection-item red-text center" ng-if="recentGames.length === 0">You have played no games.</li>
      <li class="collection-item" ng-repeat="game in recentGames | orderBy: '-game_datetime'" watch>
        <div class='row game_list'>
          <div class="col s2">
            <img class="profileHostPic" ng-src="{{game.picture || game.host_pic}}"> 
          </div>
          <div class="left col s3" id="game_title" style="display:inline">{{game.game ? game.game : "No Name"}}</div>
          <div class="col s4"> <span ng-if="game.distance">{{+ game.distance + " m | "}}</span> {{game.game_datetime | date:"EEE, MMM-d-y '@' h:mma"}}, Players: {{ game.accepted_players }}/{{game.player_count}}
          </div>

          <div class="right col s3" ng-if="loggedIn && !game.reviewed" ng-click="openRateModal(game)">
            <a class='btn grey darken-3' href='#openRateModal' modal>Rate</a>
          </div>
          <div class="right col s3" ng-if="loggedIn && game.reviewed" ng-click="openRateModal(game)">
            <a class='btn grey darken-3' href='#openRateModal' modal>View</a>
          </div>
        </div>        
      </li>
    </ul> 
  </div>

  <!-- pop up modal for game details and rating palyers of the game -->
  <div class="ng-include: 'app/templates/modals/profileReviewGameModal.html'">
      </div>

</div>